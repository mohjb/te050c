<!DOCTYPE html>
<!-- saved from url=(0052)https://bl.ocks.org/micahstubbs/98d8b4eba987224e3c84 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=1000">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@mbostock">
<meta property="og:url" content="http://bl.ocks.org/micahstubbs/98d8b4eba987224e3c84">
<meta property="og:title" content="horizontal boxplot">
<meta property="og:description" content="Micah Stubbs’s Block 98d8b4eba987224e3c84">
<meta property="og:image" content="http://bl.ocks.org/micahstubbs/raw/98d8b4eba987224e3c84/2aace53c84f0d0e671ae6feec2a6af1754c355d7/thumbnail.png">
<title>horizontal boxplot - bl.ocks.org</title>
<link rel="icon" href="https://bl.ocks.org/favicon.png">
<style class="--apng-checked">

@import url("/style.css");

</style>

</head><body><header>
  <div class="column">
    <div class="navigation">
      <a href="https://bl.ocks.org/">Popular</a>
      / <a href="https://bl.ocks.org/-/about">About</a>
    </div>
    <a class="user" href="https://bl.ocks.org/micahstubbs"><img class="avatar" src="./horizontal boxplot - bl.ocks.org_files/2119400" width="30" height="30">Micah Stubbs</a>’s
    Block <a class="gist gist-id self" title="View Gist on GitHub." href="https://gist.github.com/micahstubbs/98d8b4eba987224e3c84">98d8b4eba987224e3c84</a>    <div class="date">Updated March 12, 2016</div>
  </div>
</header>

<div class="column">
  <h1>horizontal boxplot</h1>
  <div class="index">
    <iframe sandbox="allow-popups allow-scripts allow-forms allow-same-origin" src="./horizontal boxplot - bl.ocks.org_files/saved_resource.html" marginwidth="0" marginheight="0" style="height:500px;" scrolling="no"></iframe>
  </div>
  <div class="index-pop">
    <a target="_blank" title="Open Block 98d8b4eba987224e3c84 a new window." href="https://bl.ocks.org/micahstubbs/raw/98d8b4eba987224e3c84">Open<svg height="16" width="12"><path d="M11 10h1v3c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V3c0-0.55 0.45-1 1-1h3v1H1v10h10V10zM6 2l2.25 2.25-3.25 3.25 1.5 1.5 3.25-3.25 2.25 2.25V2H6z"></path></svg></a>
  </div>
  <div class="gist-readme" data-key=""></div>
  <div class="gist-sources">
    <div class="gist-source" data-key="index.html">
      <h2>index.html<a name="index.html" class="anchor" href="https://bl.ocks.org/micahstubbs/98d8b4eba987224e3c84#index.html">#</a></h2>
      <pre><code class="html xml"><span class="tag">&lt;<span class="title">html</span>&gt;</span>
<span class="tag">&lt;<span class="title">head</span>&gt;</span>
  <span class="tag">&lt;<span class="title">title</span>&gt;</span>horizontal boxplot<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
  <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span> /&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"</span> <span class="attribute">type</span>=<span class="value">"text/JavaScript"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;/<span class="title">head</span>&gt;</span>
<span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css">
<span class="tag">svg</span> <span class="rules">{
  <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1</span>px solid gray</span>;</span>
<span class="rule">}</span></span>

<span class="tag">line</span> <span class="rules">{
  <span class="rule"><span class="attribute">shape-rendering</span>:<span class="value"> crispEdges</span>;</span>
  <span class="rule"><span class="attribute">stroke</span>:<span class="value"> <span class="number">#000000</span></span>;</span>
<span class="rule">}</span></span>

<span class="tag">line</span><span class="class">.minor</span>  <span class="rules">{
  <span class="rule"><span class="attribute">stroke</span>:<span class="value"> <span class="number">#777777</span></span>;</span>
  <span class="rule"><span class="attribute">stroke-dasharray</span>:<span class="value"> <span class="number">2</span>,<span class="number">2</span></span>;</span>
<span class="rule">}</span></span>

<span class="tag">path</span><span class="class">.domain</span> <span class="rules">{
  <span class="rule"><span class="attribute">fill</span>:<span class="value"> none</span>;</span>
  <span class="rule"><span class="attribute">stroke</span>:<span class="value"> black</span>;</span>
<span class="rule">}</span></span>

</span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
<span class="tag">&lt;<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">body</span>&gt;</span>
    
<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">
d3.csv(<span class="string">"data.csv"</span>, boxplot)

<span class="function"><span class="keyword">function</span> <span class="title">boxplot</span><span class="params">(data)</span>{</span>

  <span class="keyword">var</span> h = <span class="number">500</span>,
      w = <span class="number">500</span>;

  <span class="keyword">var</span> margin = {
    <span class="string">'top'</span>: <span class="number">20</span>,
    <span class="string">'bottom'</span>: <span class="number">20</span>,
    <span class="string">'left'</span>: <span class="number">20</span>,
    <span class="string">'right'</span>: <span class="number">30</span> 
  }

  d3.select(<span class="string">"body"</span>).append(<span class="string">"svg"</span>)
    .attr(<span class="string">"height"</span>, h)
    .attr(<span class="string">"width"</span>, w);


  xScale = d3.scale.linear()
    .domain([<span class="number">0</span>,<span class="number">100</span>]) <span class="comment">// 0% to 100%</span>
    .range([
      margin.left,
      w - margin.right
    ]);

  yScale = d3.scale.linear()
    .domain([
      Number(d3.max(data, <span class="function"><span class="keyword">function</span><span class="params">(d)</span>{</span> <span class="keyword">return</span> d.day })) + <span class="number">1</span>,
      Number(d3.min(data, <span class="function"><span class="keyword">function</span><span class="params">(d)</span>{</span> <span class="keyword">return</span> d.day })) - <span class="number">1</span>
    ])    
    .range([
      h - margin.bottom,
      margin.top
    ]);

  console.log(data);

  xAxis = d3.svg.axis()
    .scale(xScale)
    .orient(<span class="string">"bottom"</span>)
    .ticks(<span class="number">10</span>)
    .tickSize(-<span class="number">470</span>)
    .tickSubdivide(<span class="literal">true</span>); <span class="comment">// deprecated, I know</span>

  d3.select(<span class="string">"svg"</span>).append(<span class="string">"g"</span>)
    .attr(<span class="string">"transform"</span>, <span class="string">"translate(0,480)"</span>)
    .attr(<span class="string">"id"</span>, <span class="string">"xAxisG"</span>)
    .call(xAxis);

  <span class="keyword">var</span> days = data.map(<span class="function"><span class="keyword">function</span><span class="params">(d)</span>{</span><span class="keyword">return</span> Number(d.day)});

  yAxis = d3.svg.axis()
    .scale(yScale)
    .orient(<span class="string">"right"</span>)
    .tickSize(-<span class="number">470</span>)
    .tickValues(days);
    

  d3.select(<span class="string">"svg"</span>).append(<span class="string">"g"</span>)
    .attr(<span class="string">"transform"</span>, <span class="string">"translate(470,0)"</span>)
    .attr(<span class="string">"id"</span>, <span class="string">"yAxisG"</span>)
    .call(yAxis);

  d3.select(<span class="string">"svg"</span>).selectAll(<span class="string">"circle.median"</span>)
    .data(data)
    .enter()
    .append(<span class="string">"circle"</span>)
    .attr(<span class="string">"class"</span>, <span class="string">"tweets"</span>)
    .attr(<span class="string">"r"</span>, <span class="number">5</span>)
    .attr(<span class="string">"cx"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span><span class="keyword">return</span> xScale(d.median)})
    .attr(<span class="string">"cy"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span><span class="keyword">return</span> yScale(d.day)})
    .style(<span class="string">"fill"</span>, <span class="string">"none"</span>);

  d3.select(<span class="string">"svg"</span>).selectAll(<span class="string">"g.box"</span>)
    .data(data)
    .enter()
    .append(<span class="string">"g"</span>)
    .attr(<span class="string">"class"</span>, <span class="string">"box"</span>)
    .attr(<span class="string">"transform"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span>{</span>
      <span class="keyword">return</span> <span class="string">"translate("</span> + xScale(d.median) + <span class="string">","</span> + 
        yScale(d.day) + <span class="string">")"</span>
    })
    .each(<span class="function"><span class="keyword">function</span><span class="params">(d,i)</span>{</span>
      
      d3.select(<span class="keyword">this</span>)
        .append(<span class="string">"line"</span>)
        .attr(<span class="string">"class"</span>, <span class="string">"range"</span>)
        .attr(<span class="string">"x1"</span>, xScale(d.max) - xScale(d.median))
        .attr(<span class="string">"x2"</span>, xScale(d.min) - xScale(d.median))
        .attr(<span class="string">"y1"</span>, <span class="number">0</span>)
        .attr(<span class="string">"y2"</span>, <span class="number">0</span>)
        .style(<span class="string">"stroke"</span>, <span class="string">"black"</span>)
        .style(<span class="string">"stroke-width"</span>, <span class="string">"4px"</span>);

      d3.select(<span class="keyword">this</span>)
        .append(<span class="string">"line"</span>)
        .attr(<span class="string">"class"</span>, <span class="string">"max"</span>)
        .attr(<span class="string">"x1"</span>, xScale(d.max) - xScale(d.median))
        .attr(<span class="string">"x2"</span>, xScale(d.max) - xScale(d.median))
        .attr(<span class="string">"y1"</span>, -<span class="number">10</span>)
        .attr(<span class="string">"y2"</span>, <span class="number">10</span>)
        .style(<span class="string">"stroke"</span>, <span class="string">"black"</span>)
        .style(<span class="string">"stroke-width"</span>, <span class="string">"4px"</span>);

      d3.select(<span class="keyword">this</span>)
        .append(<span class="string">"line"</span>)
        .attr(<span class="string">"class"</span>, <span class="string">"min"</span>)
        .attr(<span class="string">"x1"</span>, xScale(d.min) - xScale(d.median))
        .attr(<span class="string">"x2"</span>, xScale(d.min) - xScale(d.median))
        .attr(<span class="string">"y1"</span>, -<span class="number">10</span>)
        .attr(<span class="string">"y2"</span>, <span class="number">10</span>)
        .style(<span class="string">"stroke"</span>, <span class="string">"black"</span>)
        .style(<span class="string">"stroke-width"</span>, <span class="string">"4px"</span>);        

      d3.select(<span class="keyword">this</span>)
        .append(<span class="string">"rect"</span>)
        .attr(<span class="string">"class"</span>, <span class="string">"range"</span>)
        .attr(<span class="string">"x"</span>, xScale(d.q1) - xScale(d.median))
        .attr(<span class="string">"y"</span>, -<span class="number">10</span>)
        .attr(<span class="string">"height"</span>, <span class="number">20</span>)
        .attr(<span class="string">"width"</span>, xScale(d.q3) - xScale(d.q1))
        .style(<span class="string">"fill"</span>, <span class="string">"white"</span>)
        .style(<span class="string">"stroke"</span>, <span class="string">"black"</span>)
        .style(<span class="string">"stroke-width"</span>, <span class="string">"2px"</span>);

      d3.select(<span class="keyword">this</span>)
        .append(<span class="string">"line"</span>)
        .attr(<span class="string">"x1"</span>, <span class="number">0</span>)
        .attr(<span class="string">"x2"</span>, <span class="number">0</span>)
        .attr(<span class="string">"y1"</span>, -<span class="number">10</span>)
        .attr(<span class="string">"y2"</span>, <span class="number">10</span>)
        .style(<span class="string">"stroke"</span>, <span class="string">"darkgray"</span>)
        .style(<span class="string">"stroke-width"</span>, <span class="string">"4px"</span>);
        
    })
}

</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">footer</span>&gt;</span>

<span class="tag">&lt;/<span class="title">html</span>&gt;</span></code></pre>
    </div>
    <div class="gist-source" data-key="data.csv">
      <h2>data.csv<a name="data.csv" class="anchor" href="https://bl.ocks.org/micahstubbs/98d8b4eba987224e3c84#data.csv">#</a></h2>
      <pre><code class="csv undefined">day,min,max,median,q1,q3,number
1,14,65,33,20,35,22
2,25,73,25,25,30,170
3,15,40,25,17,28,185
4,18,55,33,28,42,135
5,14,66,35,22,45,150
6,22,70,34,28,42,170
7,14,65,33,30,50,28</code></pre>
    </div>
  </div>
  <div class="gist-license">
    <h2>LICENSE<a name="license" class="anchor" href="https://bl.ocks.org/micahstubbs/98d8b4eba987224e3c84#license">#</a></h2>
    This block appears to have <a target="_blank" href="http://choosealicense.com/no-license/">no license</a>. Please contact <a target="_blank" href="https://github.com/micahstubbs">the author</a> to request a license.
  </div>
</div>

<script src="./horizontal boxplot - bl.ocks.org_files/d3.v3.min.js.download"></script>
<script src="./horizontal boxplot - bl.ocks.org_files/highlight.min.js.download"></script>
<script>

var gist = {"public":true,"sha":"2aace53c84f0d0e671ae6feec2a6af1754c355d7","files":{".block":{"language":null,"type":"text/plain","filename":".block","size":16,"sha":"d44bbdf5a307aaacd2a2598e54a5a1476b5cc0ec"},"data.csv":{"language":"CSV","type":"text/csv","filename":"data.csv","size":176,"sha":"8450cb9753f658ce451dcfe8b9911d17a81ea88e"},"index.html":{"language":"HTML","type":"text/html","filename":"index.html","size":3724,"sha":"c0ea60eb154b3a829d9473ab5fbbb4eea569d05b"},"thumbnail.png":{"language":null,"type":"image/png","filename":"thumbnail.png","size":13301,"sha":"2da16203509d944324fc3455f794a92ddd7740a3"}},"created_at":"2015-07-08T22:54:13Z","updated_at":"2016-03-12T22:56:21Z","description":"horizontal boxplot","owner":{"login":"micahstubbs"},"id":"98d8b4eba987224e3c84"};

var files = d3.values(gist.files);

d3.select(".gist-readme")
    .data(files, function(d) { return d ? d.filename : this.getAttribute("data-key"); })
    .each(function(d) {
      var readme = d3.select(this);
      d3.text("/micahstubbs/raw/98d8b4eba987224e3c84/2aace53c84f0d0e671ae6feec2a6af1754c355d7/" + d.filename, function(error, content) {
        if (error) content = "Sorry, an error occurred.";
        readme.html(new Showdown.converter().makeHtml(content));
        readme.selectAll("code").each(function() { hljs.highlightBlock(this); });
      });
    });

d3.selectAll(".gist-source")
    .data(files, function(d) { return d ? d.filename : this.getAttribute("data-key"); })
  .select("code")
    .attr("class", function(d) { return d.language && (d.language === "JSON" ? "javascript" : d.language.toLowerCase()); })
    .each(function(d) {
      var code = d3.select(this);
      d3.text("/micahstubbs/raw/98d8b4eba987224e3c84/2aace53c84f0d0e671ae6feec2a6af1754c355d7/" + (d.filename === "index.html" ? "" : d.filename), function(error, content) {
        if (error) content = "Sorry, an error occurred.";
        code.text(content);
        hljs.highlightBlock(code.node());
      });
    });

</script>

<script>

GoogleAnalyticsObject = "ga", ga = function() { ga.q.push(arguments); }, ga.q = [], ga.l = +new Date;
ga("create", "UA-48272912-1", "auto");
ga("send", "pageview");

</script>
<script async="" src="./horizontal boxplot - bl.ocks.org_files/analytics.js.download"></script>
</body></html>